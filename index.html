<!DOCTYPE html>
<html lang="de" class="loading">
	<head>
		<meta charset="utf-8">
		<meta id="theme_color_meta" name="theme-color" content="">
		<link rel="shortcut icon" type="image/x-icon" href="assets/favicon.webp">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
		<title>Biblio</title>
		
		<link href='/css/style.css' rel='stylesheet' type='text/css'>
		<link href="/css/css_bundle.css" rel="stylesheet" type='text/css'>
		
		<script src="/js/js_bundle.js"></script>
		<script src="/js/api.js"></script>
		<script src="/js/functions.js"></script>
	</head>
	<body onload="onload();" id="app" style="opacity: 0;">
		<div id="particles-js"></div>
		<svg style="width: 0px;height: 0px;">
			<defs>
				<linearGradient id="color_gradient" x1="0%" y1="0%" x2="100%" y2="100%">
					<stop offset="0%" style="stop-color: var(--gradient_color1);stop-opacity:1"></stop>
					<stop offset="100%" style="stop-color: var(--gradient_color2);stop-opacity:1"></stop>
				</linearGradient>
			</defs>
		</svg>
		<svg>
			<defs>
				<g id="search_icon">
					<path fill="url(#color_gradient)" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
					<path d="M0 0h24v24H0z" fill="none"></path>
				</g>
				<g id="loading_color">
					<circle cx="50" cy="50" ng-attr-r="{{config.radius}}" ng-attr-stroke-width="{{config.width}}" ng-attr-stroke="{{config.stroke}}" ng-attr-stroke-dasharray="{{config.dasharray}}" fill="none" stroke-linecap="round" r="40" stroke-width="4" stroke="url(#color_gradient)" stroke-dasharray="62.83185307179586 62.83185307179586" transform="rotate(265.18 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></circle>
				</g>
			</defs>
		</svg>
		<svg>
			<defs>
				<g id="search_icon_white">
					<path fill="white" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
					<path d="M0 0h24v24H0z" fill="none"></path>
				</g>
			</defs>
		</svg>
		<div id="login_side">
			<h1 id="login_headline">Login</h1>
			<p id="login_error_message" class="error_message not_affected_by_color_theme"></p>
			<form name="login_form" id="login_form" onsubmit="return false">
				<input type="text" class="login_input input_gray input_focus_color" id="login_email" placeholder="Email" autocomplete="username" autofocus>
				<input autocomplete="current-password" type="password" class="login_input input_gray input_focus_color" id="login_passwort" placeholder="Passwort">
				<br>
				<button style="width: 30%;" id="login_button" onclick="login();" class="button">Login</button>
			</form>
		</div>
		<div id="main">
			<ul id="nav_ul">
				<li id="nav_li_side1" class="nav_li"><a class="nav_a" id="nav_a_side1" onclick="switch_side_to(1);"></a></li>
				<li id="nav_li_side2" class="nav_li"><a class="nav_a" id="nav_a_side2" onclick="switch_side_to(2);"></a></li>
				<li id="nav_li_side3" class="nav_li"><a class="nav_a" id="nav_a_side3" onclick="switch_side_to(3);"></a></li>
				<li id="nav_li_side4" class="nav_li"><a class="nav_a" id="nav_a_side4" onclick="switch_side_to(4);"></a></li>
				<li id="nav_li_side5" class="nav_li"><a class="nav_a" id="nav_a_side5" onclick="switch_side_to(5);"></a></li>
				<li class="nav_li" style="float: right;" onclick="logout();"><a class="nav_a">Logout</a></li>
			</ul>
			<div id="nav_div_mobile">
				<ul id="nav_ul_mobile">
					<li style="height: 100%;">
					    <a onclick="open_mobile_sidenav();" style="height: 100%;">
					        <svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="var(--navbar_icon_color)" d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
					    </a>
					</li>
				</ul>
			</div>
			<div id="mobile_sidenav" class="sidenav">
				<a href="javascript:void(0)" class="closebtn" onclick="close_mobile_sidenav();">&times;</a>
				<a id="mobile_sidenav_a_side1" onclick="switch_side_to(1);"></a>
				<a id="mobile_sidenav_a_side2" onclick="switch_side_to(2);"></a>
				<a id="mobile_sidenav_a_side3" onclick="switch_side_to(3);"></a>
				<a id="mobile_sidenav_a_side4" onclick="switch_side_to(4);"></a>
				<a id="mobile_sidenav_a_side5" onclick="switch_side_to(5);"></a>
				<a onclick="logout();">{{ lang("logout") }}</a>
			</div>
			<div id="media_side" class="side">
				<div class="book_div_horizontal" id="books_choose_side_mobile">
					<a id="switch_books_side_mobile_button0" style="font-weight: bold;" onclick="switch_books_side_mobile(0);">zur√ºckgeben</a>
					<a id="switch_books_side_mobile_button1" onclick="switch_books_side_mobile(1);">ausleihen</a>
				</div>
				<div class="book_div_horizontal">
					<div class="book_div_padding book_div_left">
						<h1 id="media_return_title" class="text_centered"></h1>
					</div>
					<div class="book_div_padding book_div_right">
						<h1 id="media_lend_title" class="text_centered"></h1>
					</div>
				</div>
				<div class="book_div_horizontal">
					<div class="book_div_padding book_div_left">

					</div>
					<div class="book_div_padding book_div_right">
						<div><select onchange="refresh_medias_table();" id="lend_customer_select" name="state"></select></div>
						<br>
					</div>
				</div>
				<div class="book_div_horizontal">
					<div class="book_div_padding book_div_left">
						<div class="book_input_div mobile_seperate_lines">
							<input id="media_return_input" placeholder="Barcode" autocomplete="off" type="text" class="input_gray input_focus_color">
							<button class="button" id="media_return_button">{{ lang("return") }}</button>
						</div>
					</div>
					<div class="book_div_padding book_div_right">
						<div class="book_input_div">
							<input style="width: 40%;" onkeypress="if (event.keyCode==13){ lend_button_clicked('lend_input_box','date_select',0);}" id="lend_input_box" type="text" placeholder="Barcode" autocomplete="off" class="input_gray input_focus_color">
							<select style="width: 30%;" class="select" id="date_select"></select>
							<button style="margin: 10px 0 10px 0;width: 30%" onclick="lend_button_clicked('lend_input_box','date_select',0);" class="button" id="media_lend_button"><!-- lend --></button>
						</div>
						<div class="book_input_div">
							<input style="width: 40%;" type="text" onkeypress="if (event.keyCode==13){ lend_button_clicked('lend_input_box_holiday','date_select_holiday',1);}" id="lend_input_box_holiday" placeholder="Barcode" autocomplete="off" class="input_gray input_focus_color">
							<select style="width: 30%;" class="select" id="date_select_holiday"></select>
							<button style="margin: 10px 0 10px 0;width: 30%;" onclick="lend_button_clicked('lend_input_box_holiday','date_select_holiday',1);" class="button" id="media_lend_button_holiday"><!-- holiday lend --></button>
						</div>
						<br>
						<div style="width: 100%; display: flex;">
							<button class="button" id="edit_customer_button" style="margin-left: auto; margin-right: auto;"><!-- edit student --></button>
						</div>
					</div>
				</div>
				<div class="book_div_horizontal">
					<div class="book_div_padding book_div_left">
						<h2 id="last_returned_media_instances" class="text_centered"></h2>
						<table class="table" id="return_history_table" style="margin: auto;width: 100%;">
							<tr class="tr">
								<th>{{ lang["media"]; }}</th>
								<th>{{ lang("barcode") }}</th>
								<th>{{ lang("customer") }}</th>
								<th>{{ lang("time") }}</th>
								<th>{{ lang("logout") }}</th>
							</tr>
						</table>
						<p>{{ foo }}</p>
					</div>
					<div class="book_div_padding book_div_right">
						<h2 id="media_instances_of_customer" class="text_centered"></h2>
						<table class="table" style="margin: auto;width: 100%;" id="side1_media_instances_table">
							<tr class="tr_headline"></tr>
						</table>
					</div>
				</div>
				<div style="flex-grow: 15;" class="book_div_horizontal">
					<div class="book_div_padding book_div_left"></div>
					<div class="book_div_padding book_div_right"></div>
				</div>
			</div>
			<div id="catalog_side" class="side">
				<h1 id="catalog_side_headline" class="text_centered"></h1>
				<div id="media_search_side1">
					<div id="media_search_search_bar" class="mobile_seperate_lines">
						<div style="display: flex;flex-direction: row;align-items: center;" class="small_spacer">
							<input type="text" id="media_search_input" class="input_gray input_focus_color search_input" autocomplete="off">
							<svg onmouseenter="search_button_color_change(1,this);" onmouseleave="search_button_color_change(0,this);" onclick="refresh_media_search();" class="search_button">
								<use xlink:href="#search_icon"/>
							</svg>
						</div>
						<select class="select small_spacer" id="catalog_subject_select"></select>
						<select class="select small_spacer" id="catalog_school_year_select"></select>
					</div>
					<br>
					<div style="width: 100%;">
						<div style="display: flex; margin: auto; width: fit-content; width: -moz-fit-content;">
							<button id="new_media_button" class="button small_spacer" onclick="new_media();">{{ lang("new_media") }}</button>
						</div>
					</div>
					<div style="width: 100%;">
						<table style="width: 90%;margin: auto;" id="media_search_table" class="table"></table>
					</div>
				</div>
				<div id="media_search_side2" style="display: none;">
					<div id="media_details_back" onclick="switch_media_search_side(0);">
						<svg id="catalog_back_button"  width="24" height="24" viewBox="0 0 24 24"><path fill="var(--icon_color)" d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"/><path fill="none" d="M0 0h24v24H0z"/></svg>
					</div>
					<table id="media_details_table" class="table">
						<tr>
							<th id="catalog_medium_title_title" ></th>
							<td id="catalog_medium_title" onclick="th_to_input(this.id);"></td>
						</tr>
						<tr>
							<th id="catalog_medium_subject_title"></th>
							<td id="catalog_medium_subject"><select id="catalog_medium_subject_select" onclick="editing_input_changed(this.id);" class="select"></select></td>
						</tr>
						<tr>
							<th id="catalog_medium_school_year_title"></th>
							<td id="catalog_medium_school_year"><select id="catalog_medium_school_year_select" onclick="editing_input_changed(this.id);" class="select"></select></th>
						</tr>
						<tr>
							<th id="catalog_medium_author_title"></th>
							<td id="catalog_medium_author" onclick="th_to_input(this.id);"></td>
						</tr>
						<tr>
							<th id="catalog_medium_publisher_title"></th>
							<td id="catalog_medium_publisher" onclick="th_to_input(this.id);"></td>
						</tr>
						<tr>
							<th id="catalog_medium_price_title"></th>
							<td id="catalog_medium_price" onclick="th_to_input(this.id);"></td>
						</tr>
						<tr>
							<th id="catalog_medium_type_title"></th>
							<td id="catalog_medium_type"><select id="catalog_medium_type_select" onclick="editing_input_changed(this.id);" class="select"></select></td>
						</tr>
						<tr>
							<th id="catalog_medium_miscellaneous_title"></th>
							<td id="catalog_medium_miscellaneous" onclick="th_to_input(this.id);"></td>
						</tr>
					</table>
					<div id="selected_media_operations" class="centered_button_bar">
						<button class="button" style="margin-left: 5px; margin-right: 5px;" onclick="remove_media(current_media_id);">Medium l√∂schen</button>
					</div>
					<br>
					<h2 id="media_editing_instances_headline" class="text_centered"></h2>
					<div id="selected_media_instances_operations" class="mobile_seperate_lines">
						<button class="button small_spacer" onclick="remove_all_selected_media_instances(0);">{{ lang("remove_selected") }}</button>
						<button class="button small_spacer" onclick="return_all_selected_media_instances(0);">{{ lang("return_selected") }}</button>
						<button class="button small_spacer" onclick="new_media_instance(current_media_id);">{{ lang("new_media_instance") }}</button>
					</div>
					<table id="media_details_instances_table" style="margin-left: auto; margin-right: auto;" class="table">
						<tr>
							<th>{{ lang("barcode") }}</td>
							<th>{{ lang("loaned_to") }}</th>
							<th>{{ lang("loaned_until") }}</th>
							<th>{{ lang("holiday_lend") }}</th>
						</tr>
					</table>
					<br>
				</div>
			</div>
			<div id="customers_side" class="side">
				<h1 id="customer_side_headline" class="text_centered"></h1>
				<div id="customer_search_side1" style="display: flex;flex-direction: row;flex-wrap: wrap;align-items: center; width:100%;">
					<div id="customer_search_search_bar" class="mobile_seperate_lines">
						<div style="display: flex;flex-direction: row;align-items: center;">
							<input type="text" id="customer_search_input" class="input_gray input_focus_color search_input" autocomplete="off">
							<svg onmouseenter="search_button_color_change(1,this);" onmouseleave="search_button_color_change(0,this);" onclick="refreshcustomerSearch();" class="search_button">
								<use xlink:href="#search_icon"/>
							</svg>
						</div>
						<select style="margin-left: 12px;" class="select" id="customers_class_select"></select>
					</div>
					<br>
					<div style="width: 100%;">
						<div style="display: flex; margin: auto; width: fit-content;  width: -moz-fit-content;">
							<button id="new_customer_button" class="button" style="margin-left: 5px; margin-right: 5px;" onclick="new_customer();">neuer Sch√ºler</button>
						</div>
					</div>
					<div style="width: 100%;">
						<table style="width: 90%;margin: auto;" id="customer_search_table" class="table"></table>
					</div>
				</div>
				<div id="customer_search_side2" style="display: none;">
					<div id="customer_details_back" onclick="switch_customer_search_side(0);">
						<svg id="customer_back_button"  width="24" height="24" viewBox="0 0 24 24"><path fill="var(--icon_color)" d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"/><path fill="none" d="M0 0h24v24H0z"/></svg>
					</div>
					<table id="media_details_table" class="table">
						<tr>
							<th id="customer_editing_name_title"></th>
							<td id="customer_editing_name" onclick="th_to_input(this.id);"></td>
						</tr>
						<tr>
							<th id="customer_editing_class_title" class="th"></th>
							<td id="customer_editing_class"><select id="customer_editing_class_select" class="select" onchange="editing_input_changed(this.id)"></select></td>
						</tr>
						<tr>
							<th id="customer_editing_miscellaneous_title"></th>
							<td id="customer_editing_miscellaneous" onclick="th_to_input(this.id);"></td>
						</tr>
					</table>
					<div id="selected_customer_operations" class="centered_button_bar">
						<button class="button" style="margin-left: 5px; margin-right: 5px;" onclick="remove_customer(current_customer_id);">Sch√ºler l√∂schen</button>
					</div>
					<br>
					<h2 class="text_centered">ausgeliehene Exemplare:</h2>
					<br>
					<div id="selected_media_instances_operations" class="centered_button_bar">
						<button class="button" onclick="remove_all_selected_media_instances(1);">{{ lang("remove_selected") }}</button>
						<button class="button" onclick="return_all_selected_media_instances(1);">{{ lang("return_selected") }}</button>
					</div>
					<table style="margin: auto;" id="customer_search_medias" class="table">
						<tr>
							<th><input type="checkbox"></input></th>
							<th>{{ lang("title") }}</th>
							<th>Barcode</th>
							<th>verliehen bis</th>
							<th>√ºberf√§llig</th>
							<th>Ferienausleihe</th>
						</tr>
					</table>
				</div>
			</div>
			<div  id="lists_side" class="side">
				<h1 id="lists_side_headline" class="text_centered"></h1>
				<details style="width: 75%;margin: auto;" open>
					<summary id="overdue_medias_summary"></summary>
					<table class="table" id="overdue_table">
						<tr class="tr">
							<th>Medium Name</th>
							<th>Barcode</th>
							<th>Sch√ºler Name</th>
							<th>Klasse</th>
						</tr>
					</table>
				</details>
				<br>
				<details style="width: 75%;margin: auto;" open>
					<summary id="overdue_holiday_medias_summary"></summary>
					<table class="table" id="overdue_holiday_table">
						<tr>
							<th>Medium Name</th>
							<th>Barcode</th>
							<th>Sch√ºler Name</th>
							<th>Klasse</th>
						</tr>
					</table>
				</details>
			</div>
			<div id="admin_side" class="side" style="display: flex; flex-direction: column;">
				<h1 id="admin_side_headline" class="text_centered"></h1>
				<div style="display: flex;flex-grow: 25;">
					<div id="admin_navigation_div" style="width: 30%; flex-grow: 25; border-right: #ddd 2px solid;">
						<div class="admin_navigation_item admin_navigation_item_selected" id="options_navigation_side0" onclick="switch_options_side(0);"><p>Klassen</p></div>
						<div class="admin_navigation_item" id="options_navigation_side1" onclick="switch_options_side(1);"><p>Jahrgangsstufen</p></div>
						<div class="admin_navigation_item" id="options_navigation_side2" onclick="switch_options_side(2);"><p>Typen</p></div>
						<br>
						<div class="admin_navigation_item" id="options_navigation_side3" onclick="switch_options_side(3);"><p>Design</p></div>
						<div class="admin_navigation_item" id="options_navigation_side4" onclick="switch_options_side(4);"><p>Einstellungen</p></div>
						<div class="admin_navigation_item" id="options_navigation_side5" onclick="switch_options_side(5);"><p>Statistiken</p></div>
					</div>
					<div id="admin_main" style="width: 70%; flex-grow: 25;">
						<div class="options_side" id="options_classes">
							<h2 class="text_centered">Klassen</h1>
							<br>
							<div class="mobile_seperate_lines" style="margin: auto; width: fit-content; display: flex;">
								<button class="button small_spacer">ausgew√§hlte zusammenlegen</button>
								<button class="button small_spacer">ausgew√§hlte l√∂schen</button>
								<button class="button small_spacer">neues Schuljahr</button>
							</div>
							<table class="table" id="admin_classes_table" style="margin: auto;">
								<tr>
									<th>
										<input type="checkbox" id="admin_classes_select_all"></input>
									</th>
									<th>id</th>
									<th>Name Teil 1</th>
									<th>Name Teil 2</th>
									<th>Sch√ºlerzahl</th>
								</tr>
							</table>
						</div>
						<div class="options_side" id="options_school_years">
							<h2 class="text_centered">Jahrgangsstufen</h1>
						</div>
						<div class="options_side" id="options_types">
							<h2 class="text_centered">Medium Typen</h1>
						</div>
						<div class="options_side" id="options_design">
							<h2 class="text_centered">Design</h2>
							<br>
							<div class="mobile_seperate_lines centered_button_bar">
							    <select id="admin_design_select" onchange="set_design_pickers_to_selected_preset();"></select>
								<button class="button small_spacer">Design l√∂schen</button>
								<button class="button small_spacer">neues Design</button>
							</div>
							<table class="table" id="admin_design_edit_table" style="margin: auto;">
							    <tr>
							        <th>Gradient Farbe 1</th>
							        <th><input id="gradient_color1_picker" class="design_picker jscolor" data-jscolor="{backgroundColor: 'white', insetColor:'#FFF'}" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Gradient Farbe 2</th>
							        <th><input id="gradient_color2_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Text Color</th>
							        <th><input id="text_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Button Text Color</th>
							        <th><input id="button_text_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Button Text Color on Hover</th>
							        <th><input id="button_text_color_hover_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Background Color</th>
							        <th><input id="background_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Navbar Color</th>
							        <th><input id="navbar_color_picker" class="design_picker jscolor " value=""></div></th>
							    </tr>
							    <tr>
							        <th>Navbar Icon Color</th>
							        <th><input id="navbar_icon_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Navbar Text Color</th>
							        <th><input id="navbar_text_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Icon Color</th>
							        <th><input id="icon_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							    <tr>
							        <th>Browser Theme Color</th>
							        <th><input id="browser_theme_color_picker" class="design_picker jscolor" value=""></div></th>
							    </tr>
							</table>
                            <div class="mobile_seperate_lines centered_button_bar">
                                <button class="button small_spacer" onclick="set_design_pickers_to_selected_preset();">Reset</button>
                                <button class="button small_spacer">Speichern</button>
                            </div>
						</div>
						<div class="options_side" id="options_settings">
							<h2 class="text_centered">Einstellungen</h2>
						</div>
						<div class="options_side" id="options_metrics">
							<h2 class="text_centered">Statistiken</h2>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script>
		<script src="/js/app.js"></script>
	</body>
</html>
